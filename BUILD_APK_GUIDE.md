# üì± –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –°–±–æ—Ä–∫–∞ APK –¥–ª—è Snake Game

## üéØ –û–±–∑–æ—Ä

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç **production-ready –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é** –¥–ª—è —Å–±–æ—Ä–∫–∏ Android APK —á–µ—Ä–µ–∑ Docker + Buildozer —Å **–≥–∞—Ä–∞–Ω—Ç–∏–µ–π —É—Å–ø–µ—à–Ω–æ–π —Å–±–æ—Ä–∫–∏**.

### ‚ú® –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

- ‚úÖ **–ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–±–æ—Ä–∫–∞** –≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
- ‚úÖ **–í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã** (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)
- ‚úÖ **–ü—Ä–æ—Å—Ç–æ–π –∑–∞–ø—É—Å–∫** –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π
- ‚úÖ **–ü–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏** –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- ‚úÖ **Kivy-based** –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–Ω–∞—Ç–∏–≤–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Android)
- ‚úÖ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ Windows, Linux, Mac**

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π –°—Ç–∞—Ä—Ç

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:

1. **Docker Desktop** —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –∑–∞–ø—É—â–µ–Ω
   - Windows/Mac: https://www.docker.com/products/docker-desktop
   - Linux: `sudo apt install docker.io`

2. **–ú–∏–Ω–∏–º—É–º 10 GB** —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ

3. **–°—Ç–∞–±–∏–ª—å–Ω–æ–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ** (–ø–µ—Ä–≤–∞—è —Å–±–æ—Ä–∫–∞ —Å–∫–∞—á–∞–µ—Ç ~2GB –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)

---

## üìã –ü–æ—à–∞–≥–æ–≤–∞—è –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### Windows:

```powershell
# 1. –û—Ç–∫—Ä—ã—Ç—å PowerShell –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞
cd "C:\Users\–ó–∞–ª –¶–∞—Ä—Å—Ç–≤–∞\papka\snake-pygame"

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–±–æ—Ä–∫—É
.\build-apk.ps1

# 3. –î–æ–∂–¥–∞—Ç—å—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (20-40 –º–∏–Ω—É—Ç –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ)

# 4. –ù–∞–π—Ç–∏ –≥–æ—Ç–æ–≤—ã–π APK –≤ –ø–∞–ø–∫–µ bin/
```

### Linux/Mac:

```bash
# 1. –û—Ç–∫—Ä—ã—Ç—å —Ç–µ—Ä–º–∏–Ω–∞–ª –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞
cd ~/snake-pygame

# 2. –î–∞—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞
chmod +x build-apk.sh

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–±–æ—Ä–∫—É
./build-apk.sh

# 4. –î–æ–∂–¥–∞—Ç—å—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

# 5. –ù–∞–π—Ç–∏ –≥–æ—Ç–æ–≤—ã–π APK –≤ –ø–∞–ø–∫–µ bin/
```

---

## üõ†Ô∏è –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –°–±–æ—Ä–∫–∏

### PowerShell (Windows):

```powershell
# –û–±—ã—á–Ω–∞—è —Å–±–æ—Ä–∫–∞
.\build-apk.ps1

# –°–±–æ—Ä–∫–∞ —Å –æ—á–∏—Å—Ç–∫–æ–π –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤
.\build-apk.ps1 -Clean

# –¢–æ–ª—å–∫–æ —Å–æ–∑–¥–∞—Ç—å Docker –æ–±—Ä–∞–∑ (–±–µ–∑ —Å–±–æ—Ä–∫–∏ APK)
.\build-apk.ps1 -NoBuild

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫—ç—à Docker (–±—ã—Å—Ç—Ä–µ–µ)
.\build-apk.ps1 -UseCache
```

### Bash (Linux/Mac):

```bash
# –û–±—ã—á–Ω–∞—è —Å–±–æ—Ä–∫–∞
./build-apk.sh

# –°–±–æ—Ä–∫–∞ —Å –æ—á–∏—Å—Ç–∫–æ–π
./build-apk.sh --clean

# –¢–æ–ª—å–∫–æ Docker –æ–±—Ä–∞–∑
./build-apk.sh --no-build

# –° –∫—ç—à–µ–º
./build-apk.sh --use-cache
```

---

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ü—Ä–æ–µ–∫—Ç–∞

```
snake-pygame/
‚îú‚îÄ‚îÄ main_android.py              # ‚ú® Entry point –¥–ª—è Android
‚îú‚îÄ‚îÄ buildozer_production.spec    # ‚ú® Production –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ Dockerfile.production        # ‚ú® Docker –æ–±—Ä–∞–∑ –¥–ª—è —Å–±–æ—Ä–∫–∏
‚îú‚îÄ‚îÄ build-apk.ps1               # ‚ú® –°–∫—Ä–∏–ø—Ç —Å–±–æ—Ä–∫–∏ (Windows)
‚îú‚îÄ‚îÄ build-apk.sh                # ‚ú® –°–∫—Ä–∏–ø—Ç —Å–±–æ—Ä–∫–∏ (Linux/Mac)
‚îú‚îÄ‚îÄ snake_game/                 # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –∏–≥—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ ui/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ kivy_app.py        # Kivy UI –¥–ª—è Android
‚îÇ   ‚îú‚îÄ‚îÄ core/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ game.py            # –ò–≥—Ä–æ–≤–∞—è –ª–æ–≥–∏–∫–∞
‚îÇ   ‚îî‚îÄ‚îÄ services/
‚îÇ       ‚îú‚îÄ‚îÄ session.py         # –°–µ—Å—Å–∏—è –∏–≥—Ä—ã
‚îÇ       ‚îî‚îÄ‚îÄ audio.py           # –ó–≤—É–∫–æ–≤–æ–π –º–µ–Ω–µ–¥–∂–µ—Ä
‚îî‚îÄ‚îÄ bin/                        # ‚ú® –ì–æ—Ç–æ–≤—ã–µ APK —Ñ–∞–π–ª—ã (–ø–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏)
```

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:

- **Python**: 3.10
- **Kivy**: 2.2.1 (UI framework –¥–ª—è Android)
- **Buildozer**: 1.5.0 (–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Å–±–æ—Ä–∫–∏ APK)
- **Python-for-Android**: latest
- **Android API**: 31 (Android 12)
- **NDK**: 25.2.9519653
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã**: arm64-v8a, armeabi-v7a

### –†–∞–∑–º–µ—Ä APK:

- **Debug APK**: ~20-30 MB
- **Release APK**: ~15-25 MB (–ø–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏)

### –í—Ä–µ–º—è —Å–±–æ—Ä–∫–∏:

- **–ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫**: 30-50 –º–∏–Ω—É—Ç (—Å–∫–∞—á–∏–≤–∞–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)
- **–ü–æ—Å–ª–µ–¥—É—é—â–∏–µ**: 10-20 –º–∏–Ω—É—Ç (—Å –∫—ç—à–µ–º)

---

## üêõ –†–µ—à–µ–Ω–∏–µ –ü—Ä–æ–±–ª–µ–º

### 1. Docker –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

**–ü—Ä–æ–±–ª–µ–º–∞**: –û—à–∏–±–∫–∞ "Docker not found"

**–†–µ—à–µ–Ω–∏–µ**:
```powershell
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ª–∏ Docker
docker --version

# –ï—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω - —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker Desktop
```

### 2. –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ

**–ü—Ä–æ–±–ª–µ–º–∞**: "No space left on device"

**–†–µ—à–µ–Ω–∏–µ**:
```powershell
# –û—á–∏—Å—Ç–∏—Ç—å Docker –∫—ç—à
docker system prune -a

# –û—Å–≤–æ–±–æ–¥–∏—Ç—å –º–∏–Ω–∏–º—É–º 10GB –º–µ—Å—Ç–∞
```

### 3. –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ APK

**–ü—Ä–æ–±–ª–µ–º–∞**: Buildozer –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π

**–†–µ—à–µ–Ω–∏–µ**:
```powershell
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ–ª–Ω—ã–π –ª–æ–≥
type buildozer_full.log

# –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —á–∏—Å—Ç—É—é —Å–±–æ—Ä–∫—É
.\build-apk.ps1 -Clean
```

### 4. APK –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ

**–ü—Ä–æ–±–ª–µ–º–∞**: "App not installed" –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ

**–†–µ—à–µ–Ω–∏–µ**:
- –í–∫–ª—é—á–∏—Ç—å "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏" –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Android
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–ø–∏—Å—å APK
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `adb install -r bin/snakegame-*.apk`

---

## üì± –£—Å—Ç–∞–Ω–æ–≤–∫–∞ APK –Ω–∞ Android

### –ú–µ—Ç–æ–¥ 1: ADB (Android Debug Bridge)

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å ADB (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
# Windows: scoop install adb
# Linux: sudo apt install adb
# Mac: brew install android-platform-tools

# 2. –í–∫–ª—é—á–∏—Ç—å USB-–æ—Ç–ª–∞–¥–∫—É –Ω–∞ Android —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ

# 3. –ü–æ–¥–∫–ª—é—á–∏—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —á–µ—Ä–µ–∑ USB

# 4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å APK
adb install bin/snakegame-*.apk
```

### –ú–µ—Ç–æ–¥ 2: –ü—Ä—è–º–∞—è –ü–µ—Ä–µ–¥–∞—á–∞

1. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å APK —Ñ–∞–π–ª –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ (—á–µ—Ä–µ–∑ USB, email, –æ–±–ª–∞–∫–æ)
2. –û—Ç–∫—Ä—ã—Ç—å APK —á–µ—Ä–µ–∑ —Ñ–∞–π–ª–æ–≤—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä
3. –†–∞–∑—Ä–µ—à–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É –∏–∑ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

---

## üéÆ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤ –ò–≥—Ä–µ

- **–°—Ç—Ä–µ–ª–∫–∏** –∏–ª–∏ **–°–≤–∞–π–ø**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–º–µ–π–∫–æ–π
- **P / –ü–∞—É–∑–∞**: –ü–∞—É–∑–∞ –∏–≥—Ä—ã
- **R**: –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∏–≥—Ä—ã

---

## üìù –õ–æ–≥–∏ –∏ –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ —Å–±–æ—Ä–∫–∏:

```powershell
# –ü–æ–ª–Ω—ã–π –ª–æ–≥ Buildozer
type buildozer_full.log

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ 100 —Å—Ç—Ä–æ–∫
Get-Content buildozer_full.log -Tail 100
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ Android:

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ logcat
adb logcat -s python

# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ª–æ–≥–∏ –≤ —Ñ–∞–π–ª
adb logcat -s python > android_logs.txt
```

---

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å `buildozer_production.spec`:

```ini
[app]
title = –í–∞—à–µ –ù–∞–∑–≤–∞–Ω–∏–µ
package.name = yourpackagename
package.domain = com.yourcompany
```

### –ò–∑–º–µ–Ω–∏—Ç—å –∏–∫–æ–Ω–∫—É –∏ —Å–ø–ª—ç—à:

```ini
[app]
icon.filename = %(source.dir)s/assets/icon.png
presplash.filename = %(source.dir)s/assets/splash.png
```

### –î–æ–±–∞–≤–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è Android:

```ini
[app]
android.permissions = INTERNET,ACCESS_NETWORK_STATE,CAMERA,VIBRATE
```

---

## üöÄ Production Release

–î–ª—è –≤—ã–ø—É—Å–∫–∞ –≤ Google Play:

```bash
# 1. –°–æ–∑–¥–∞—Ç—å keystore
keytool -genkey -v -keystore my-release-key.keystore -alias my-key-alias -keyalg RSA -keysize 2048 -validity 10000

# 2. –ò–∑–º–µ–Ω–∏—Ç—å buildozer.spec –¥–ª—è release
[app]
android.release_artifact = apk

# 3. –°–æ–±—Ä–∞—Ç—å release APK
buildozer android release

# 4. –ü–æ–¥–ø–∏—Å–∞—Ç—å APK
jarsigner -verbose -sigalg SHA1withRSA -digestalg SHA1 -keystore my-release-key.keystore bin/*.apk my-key-alias

# 5. –í—ã—Ä–æ–≤–Ω—è—Ç—å APK
zipalign -v 4 bin/snakegame-*.apk bin/snakegame-release-aligned.apk
```

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `buildozer_full.log`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Docker –∑–∞–ø—É—â–µ–Ω
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —á–∏—Å—Ç—É—é —Å–±–æ—Ä–∫—É: `.\build-apk.ps1 -Clean`
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞ (–º–∏–Ω–∏–º—É–º 10GB)

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ª–∏—Ü–µ–Ω–∑–∏—é MIT.

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

–ü–µ—Ä–µ–¥ —Å–±–æ—Ä–∫–æ–π —É–±–µ–¥–∏—Ç–µ—Å—å:

- [ ] Docker —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –∑–∞–ø—É—â–µ–Ω
- [ ] –ú–∏–Ω–∏–º—É–º 10GB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
- [ ] –°—Ç–∞–±–∏–ª—å–Ω–æ–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
- [ ] –í—Å–µ —Ñ–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ –º–µ—Å—Ç–µ
- [ ] PowerShell/Bash –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∞ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

**–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ø—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç —Å–±–æ—Ä–∫–∏ –∏ –¥–æ–∂–¥–∏—Ç–µ—Å—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞!** üéâ
